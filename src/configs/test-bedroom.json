{
   "casa": {
      "uName": "casa:test-bedroom",
      "displayName": "Casa Collin Test Bedroom",
      "gang": "gang:collin-test",
      "listeningPort": 8084
   },
   "services": [
      {
         "uName": "webservice",
         "port": 11003,
         "mediaPath": "/Users/richardcollin/personal/media",
         "secure": false,
         "serverKey": "",
         "serverCert": "",
         "caCert": ""
      }
   ],
   "scenes": [
   ],
   "things": [
      {
         "uName": "tester:bedroom",
         "displayName": "Test thing:bedroom with two users",
         "sources": [
            { "uName": "bedroom:test-bedroom", "property": "test-1-user-state" },
            { "uName": "bedroom:test-bedroom", "property": "test-2-user-state" },
            { "uName": "bedroom:test-bedroom", "property": "room-state" },
            { "uName": "thing:test-1-lamp", "property": "power" },
            { "uName": "thing:test-2-lamp", "property": "power" },
            { "uName": "thing:test-main-lights", "property": "power" }
         ],
         "testCases": [
            {
               "name": "1) Normal - both going to bed slightly different times - initiation by bed switches",
               "driveSequence": [
                  { "wait": 5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "wake-up-event" }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            },
            {
               "name": "2) Normal - both going to bed slightly different times - 2nd user uses room switch as 1st user is asleep",
               "driveSequence": [
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "room-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "wake-up-event" }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            },
            {
               "name": "3) Normal - timed both going to bed after timer has lit the bedroom - simultaneous move to initial-reading-in-bed",
               "driveSequence": [
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "wake-up-event" }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            },
            {
               "name": "4) Normal - both going to bed at slightly different times - 1st initiates by movement, then bed switch, 2nd using room switch",
               "driveSequence": [
                  { "wait": 1, "property": "low-light", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": false },
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "room-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "pre-wake-up-event" },
                  { "wait": 0.5, "event": "wake-up-event" },
                  { "wait": 3, "property": "low-light", "value": false }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-evening" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-evening" },
                  { "source": "thing:test-main-lights", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-night" },
                  { "source": "thing:test-main-lights", "property": "power", "value": false },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "waking-up-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "waking-up-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-morning" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" }
               ]
            },
            {
               "name": "5) Same as TC4 but with low-light happening before pre-wake-up call",
               "driveSequence": [
                  { "wait": 1, "property": "low-light", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": false },
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "room-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 1, "property": "low-light", "value": false },
                  { "wait": 0.5, "event": "pre-wake-up-event" },
                  { "wait": 0.5, "event": "wake-up-event" }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-evening" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-evening" },
                  { "source": "thing:test-main-lights", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-night" },
                  { "source": "thing:test-main-lights", "property": "power", "value": false },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "waking-up-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "waking-up-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            },
            {
               "name": "6) Same as TC4 but with low-light happening during awake-in-bed state",
               "driveSequence": [
                  { "wait": 1, "property": "low-light", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": false },
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "room-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "pre-wake-up-event" },
                  { "wait": 0.5, "event": "wake-up-event" },
                  { "wait": 0.2, "property": "low-light", "value": false }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-evening" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-evening" },
                  { "source": "thing:test-main-lights", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-night" },
                  { "source": "thing:test-main-lights", "property": "power", "value": false },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "waking-up-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "waking-up-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-morning" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            },
            {
               "name": "7) Same as TC4 but with low-light happening during waking-up-in-bed state",
               "driveSequence": [
                  { "wait": 1, "property": "low-light", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": true },
                  { "wait": 0.5, "property": "movement-pir", "value": false },
                  { "wait": 1, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "test-1-switch-event" },
                  { "wait": 0.5, "event": "room-switch-event" },
                  { "wait": 0.5, "event": "test-2-switch-event" },
                  { "wait": 0.5, "event": "pre-wake-up-event" },
                  { "wait": 0.5, "property": "low-light", "value": false },
                  { "wait": 0.5, "event": "wake-up-event" }
               ],
               "expectedSequence": [
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-evening" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-evening" },
                  { "source": "thing:test-main-lights", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "initial-reading-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "users-present-night" },
                  { "source": "thing:test-main-lights", "property": "power", "value": false },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "reading-in-bed-others-asleep" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "asleep-in-bed" },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-night" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "waking-up-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "waking-up-in-bed" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": true },
                  { "source": "thing:test-2-lamp", "property": "power", "value": true },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "awake-in-bed" },
                  { "source": "bedroom:test-bedroom", "property": "room-state", "value": "no-users-present-day" },
                  { "source": "bedroom:test-bedroom", "property": "test-1-user-state", "value": "not-present" },
                  { "source": "bedroom:test-bedroom", "property": "test-2-user-state", "value": "not-present" },
                  { "source": "thing:test-1-lamp", "property": "power", "value": false },
                  { "source": "thing:test-2-lamp", "property": "power", "value": false }
               ]
            }
         ],
         "props": [],
         "things": [
            {
               "uName": "bedroom:test-bedroom",
               "displayName": "Test Bedroom",
               "users": [
                  { "uName": "user:test-1" },
                  { "uName": "user:test-2" }
               ],
               "readingInBedTimeout": 10,
               "awakeInBedTimeout": 1,
               "movementTimeout": 2,
               "events": [],
               "props": [
                  {
                     "name": "movement-pir",
                     "initialValue": false
                  },
                  {
                     "name": "low-light",
                     "initialValue": false
                  }
               ],
               "things": [
                  {
                     "uName": "thing:test-1-lamp",
                     "displayName": "Test 1 Bedside Lamp",
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "test-2-user-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 3,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 3,
                                 "targets": [{ "property": "brightness", "value": 60 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "test-1-user-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "not-present",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 60 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 40 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 15 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "targets": [
                                    { "property": "brightness", "ramp": { "startValue": 0, "endValue": 100, "step": 50, "duration": 2 }},
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "power",
                           "initialValue": false
                        },
                        {
                           "name": "brightness",
                           "initialValue": 0
                        }
                     ]
                  },
                  {
                     "uName": "thing:test-2-lamp",
                     "displayName": "Test 2 Bedside Lamp",
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "test-1-user-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 3,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 3,
                                 "targets": [{ "property": "brightness", "value": 60 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "test-2-user-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "not-present",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 60 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 40 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 15 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "targets": [
                                    { "property": "brightness", "ramp": { "startValue": 0, "endValue": 100, "step": 50, "duration": 2 }},
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "power",
                           "initialValue": false
                        },
                        {
                           "name": "brightness",
                           "initialValue": 0
                        }
                     ]
                  },
                  {
                     "uName": "thing:test-main-lights",
                     "displayName": "Test Main Lights",
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "test-1-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 4,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "priority": 0,
                                 "targets": [{ "property": "power", "value": false }]
                              }
                           ]
                        },
                        {
                           "name": "test-2-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 4,
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "priority": 0,
                                 "targets": [{ "property": "power", "value": false }]
                              }
                           ]
                        },
                        {
                           "name": "room-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "no-users-present-day",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-day",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "no-users-present-evening",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-evening",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "no-users-present-night",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-night",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "no-users-present-morning",
                                 "targets": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-morning",
                                 "priority": 4,
                                 "targets": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "power",
                           "initialValue": false
                        },
                        {
                           "name": "brightness",
                           "initialValue": 0
                        }
                     ]
                  }
               ]
            }
         ]
      }
   ]
}
