{
   "casa": {
      "uName": "casa:land",
      "displayName": "Casa Collin Landing",
      "gang": "gang:collin",
      "listeningPort": 8082
   },
   "services": [
      {
         "uName": "homekitservice",
         "displayName": "Homekit Service Upstairs",
         "pincode": "111-11-111",
         "username": "CC:22:3D:E4:CF:EE",
         "manufacturer": "Casa Collin Ltd",
         "model": "V0.1",
         "serialNumber": "1234567890"
      },
      {
         "uName": "gpioservice",
         "displayName": "GPIO Service"
      },
      {
         "uName": "sonosservice",
         "displayName": "Sonos Discovery Service"
      },
      {
         "uName": "webservice",
         "displayName": "Web Server Service",
         "port": 80,
         "mediaPath": "/web/media",
         "secure": false,
         "serverKey": "",
         "serverCert": "",
         "caCert": ""
      },
      {
         "uName": "hueservice",
         "displayName": "Hue Link Services",
         "secureConfig": true
      },
      {
         "uName": "securityspyservice",
         "hostname": "collin.viewcam.me",
         "port": 8001,
         "secure": true,
         "secureConfig": true
      },
      {
         "uName": "pushoverservice",
         "displayName": "Pushover Messaging Service",
         "secureConfig": true
      }
   ],
   "scenes": [],
   "things": [
      {
         "uName": "building:dumgoyne",
         "displayName": "Our home in Sussex",
         "users": [
            { "uName": "user:richard" },
            { "uName": "user:natalie" },
            { "uName": "user:dylan" }
         ],
         "bedrooms": [
            {
               "uName": "bedroom:master",
               "users": [ "user:richard", "user:natalie" ]
            },
            {
               "uName": "bedroom:dylan",
               "users": [ "user:dylan" ]
            }
         ],
         "rooms": [
            { "uName": "room:kitchen" },
            { "uName": "room:lounge" },
            { "uName": "room:utility-room" },
            { "uName": "room:hall" },
            { "uName": "room:landing" },
            { "uName": "room:snug" },
            { "uName": "room:downstairs-loo" },
            { "uName": "room:master-ensuite" }
         ],
         "props": [
            {
               "name": "low-light",
               "initialValue": false,
               "writable": false,
               "type": "scheduleproperty",
               "events": [
                  {
                     "rule": "sunset:-2700",
                     "value": true
                  },
                  {
                     "rule": "sunrise:3600",
                     "value": false
                  }
               ]
            },
           {
               "name": "night-time",
               "initialValue": false,
               "writable": true,
               "type": "scheduleproperty",
               "events": [
                  {
                     "rules": [ "30 22 * * 0-4", "00 23 * * 5-6" ],
                     "value": true
                  },
                  {
                     "rules": [ "00 7 * * 1-5", "00 8 * * 0,6" ],
                     "value": false
                  }
               ]
            },
            {
               "name": "daylight-possible",
               "initialValue": false,
               "writable": false,
               "type": "scheduleproperty",
               "events": [
                  {
                     "rule": "sunrise:-600",
                     "value": true
                  },
                  {
                     "rule": "sunset:+600",
                     "value": false
                  }
               ]
            },
            {
               "name": "daylight",
               "initialValue": false,
               "writable": false,
               "type": "scheduleproperty",
               "events": [
                  {
                     "rule": "sunrise:1800",
                     "value": true
                  },
                  {
                     "rule": "sunset:-1800",
                     "value": false
                  }
               ]
            },
            {
               "name": "security-lights",
               "initialValue": false,
               "writable": false,
               "type": "scheduleproperty",
               "events": [
                  {
                     "rule": "sunset:-100",
                     "value": true
                  },
                  {
                     "rules": ["30 22 * * 0-4", "00 23 * * 5,6" ],
                     "value": false
                  }
               ]
            },
            {
               "name": "richard-present",
               "initialValue": true,
               "writable": false
            },
            {
               "name": "natalie-present",
               "initialValue": true,
               "writable": false
            },
            {
               "name": "dylan-present",
               "initialValue": true,
               "writable": false
            }
         ],
         "things": []
      },
      {
         "uName": "thing:land-gpio",
         "displayName": "Test Landing Gpio",
         "props": [
            {
               "name": "landing-movement",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 8,
               "triggerLow": true
            },
            {
               "name": "land-gp17",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 17,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp18",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 18,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp25",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 25,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp27",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 27,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp23",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 23,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp5",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 5,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp6",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 6,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp13",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 13,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp19",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 19,
               "triggerLow": true,
               "local": true
            },
            {
               "name": "land-gp26",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 26,
               "triggerLow": true,
               "local": true
            }
         ]
      },
      {
         "uName": "securityspycamera:back-garden-gate",
         "id": 1
      },
      {
         "uName": "securityspycamera:driveway",
         "id": 2
      },
      {
         "uName": "securityspycamera:front-door",
         "id": 3
      },
      {
         "uName": "securityspycamera:back-door",
         "id": 4
      },
      {
         "uName": "bedroom:dylan",
         "displayName": "Dylan's Bedroom",
         "buildingName": "building:dumgoyne",
         "users": [
            { "uName": "user:dylan" }
         ],
         "readingInBedTimeout": 900,
         "awakeInBedTimeout": 1800,
         "overrideTimeout": 3600,
         "events": [
            { "name": "pre-wake-up-event", "rules": [ "00 6 * * 1-5", "00 10 * * 0,6" ]},
            { "name": "wake-up-event", "rules": [ "30 6 * * 1-5", "30 10 * * 0,6" ]}
         ],
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "TYPE": "gpioproperty",
               "gpioPin": 17,
               "triggerLow": true,
               "local": true
            }
         ],
         "things": [
            {
               "uName": "hkspeakeraccessory:dylan-bedroom-speakers",
               "displayName": "Dylan's Bedroom Speakers",
               "pincode": "111-11-111",
               "username": "CC:22:3D:E3:CE:3E",
               "manufacturer": "Sonos Corporation",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "volumeSupported": true,
               "propogateToParent": true,
               "props": [
               ],
               "things": [
                  {
                     "uName": "sonosplayer:dylan-bedroom",
                     "displayName": "Sonos Player for Dylan's Bedroom",
                     "zone": "Dylan's Room",
                     "propogateToParent": true,
                     "props": [
                        {
                           "name": "dylan-user-state",
                           "type": "stateproperty",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 4,
                                 "actions": [{ "property": "playing", "value": false }]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "volume", "ramp": { "startValue": 2, "endValue": 30, "step": 2, "duration": 1800 }},
                                    { "property": "playing", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "actions": [{ "property": "volume", "value": 30 }, { "property": "playing", "value": true }]
                              }
                           ]
                        }
                     ]
                  }
               ]
            },
            {
               "uName": "touchswitch:dylan-bed-switch",
               "displayName": "Dylan Bed Touch Switch",
               "propogateToChild": false,
               "propogateToParent": false,
               "invokeManualMode": false,
               "gpioTouchPin": 19,
               "stateless": true,
               "eventName": "dylan-switch-event",
               "triggerLow": true,
               "local": true
            },
            {
               "uName": "touchswitch:dylan-bedroom-switch",
               "displayName": "Dylan Bedroom Touch Switch",
               "propogateToChild": false,
               "propogateToParent": false,
               "invokeManualMode": false,
               "gpioTouchPin": 26,
               "stateless": true,
               "eventName": "room-switch-event",
               "triggerLow": true,
               "local": true
            },
            {
               "uName": "hkswitchaccessory:dylan-bedroom-switch",
               "displayName": "Dylan Bedroom Switch",
               "manufacturer": "Casa Home Automation",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "eventName": "dylan-switch-event",
               "propogateToParent": false,
               "invokeManualMode": false,
               "props": [
                  {
                     "name": "ACTIVE",
                     "initialValue": false,
                     "source": {
                        "uName": "hklightaccessory:dylan-bedroom-lights",
                        "property": "any-light-powered"
                     }
                  }
               ]
            },
            {
               "uName": "hklightaccessory:dylan-bedroom-lights",
               "displayName": "Dylan Bedroom Lights",
               "manufacturer": "Hue Philips Ltd",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "brightnessSupported": true,
               "hueSupported": true,
               "saturationSupported": true,
               "propogateToParent": true,
               "props": [
                  {
                     "name": "alarm-state",
                     "type": "stateproperty",
                     "states": [
                        {
                           "name": "fire-alarm",
                           "actions": [
                              { "property": "brightness", "ramp": { "loop": true,
                                                                    "ramps": [{ "startValue": 2, "endValue": 100, "step": 20, "duration": 2 },
                                                                              { "startValue": 100, "endValue": 99, "step": -1, "duration": 4 },
                                                                              { "startValue": 100, "endValue": 2, "step": -20, "duration": 2 }]}},
                              { "property": "hue", "value": 0 },
                              { "property": "saturation", "ramp": { "loop": true,
                                                                    "ramps": [{ "startValue": 98, "endValue": 100, "step": 1, "duration": 2 },
                                                                              { "startValue": 100, "endValue": 0, "step": -20, "duration": 2 },
                                                                              { "startValue": 0, "endValue": 100, "step": 20, "duration": 2 },
                                                                              { "startValue": 100, "endValue": 98, "step": -1, "duration": 2 }]}},
                              { "property": "brightness", "ramp": { "loop": true,
                                                                    "ramps": [{ "startValue": 2, "endValue": 100, "step": 20, "duration": 2 }, 
                                                                              { "startValue": 100, "endValue": 2, "step": 20, "duration": 2 }]}},
                              { "property": "power", "value": true }
                           ]
                        }
                     ]
                  },
                  {
                     "name": "any-light-powered",
                     "type": "orproperty",
                     "initialValue": false,
                     "sources": [{ "uName": "huelight:dylan-bedside-lamp", "property": "power" },
                                 { "uName": "huelight:dylan-main-light", "property": "power" }]
                  }
               ],
               "things": [
                  {
                     "uName": "huelight:dylan-bedside-lamp",
                     "displayName": "Dylan Bedroom Bedside Lamp",
                     "deviceId": 5,
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "dylan-user-state",
                           "type": "stateproperty",
                           "initialValue": "no-users-present",
                           "states": [
                              {
                                 "name": "not-present",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 60 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 15 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "ramp": { "startValue": 2, "endValue": 100, "step": 2, "duration": 1800 }},
                                    { "property": "hue", "ramp": { "startValue": 0, "endValue": 60, "step": 1, "duration": 1800 }},
                                    { "property": "saturation", "ramp": { "startValue": 100, "endValue": 70, "step": -1, "duration": 1800}},
                                    { "property": "power", "value": true }
                                 ] 
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 100 },
                                    { "property": "hue", "value": 60 },
                                    { "property": "saturation", "value": 70 },
                                    { "property": "power", "value": true }
                                 ]
                              }
                           ]
                        }
                     ]
                  },
                  {
                     "uName": "huelight:dylan-main-light",
                     "displayName": "Dylan Bedroom Main Light",
                     "deviceId": 6,
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "dylan-user-state",
                           "type": "stateproperty",
                           "initialValue": "no-users-present",
                           "states": [
                              {
                                 "name": "not-present",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 60 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "power", "value": false }
                                 ]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "ramp": { "startValue": 0, "endValue": 100, "step": 2, "duration": 1800 }},
                                    { "property": "hue", "ramp": { "startValue": 0, "endValue": 60, "step": 1, "duration": 1800 }},
                                    { "property": "saturation", "ramp": { "startValue": 100, "endValue": 70, "step": -1, "duration": 1800}},
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 100 },
                                    { "property": "hue", "value": 60 },
                                    { "property": "saturation", "value": 70 },
                                    { "property": "power", "value": true }
                                 ]
                              }
                           ]
                        },
                        {
                           "name": "room-state",
                           "type": "stateproperty",
                           "initialValue": "no-users-present-day",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-evening",
                                 "priority": 2,
                                 "actions": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "users-present-dull-day",
                                 "priority": 2,
                                 "actions": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "user-override-state",
                           "type": "stateproperty",
                           "initialValue": "not-active",
                           "states": [
                              {
                                 "name": "not-active",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "active",
                                 "priority": 3,
                                 "actions": [{ "property": "brightness", "value": 100 },
                                             { "property": "hue", "value": 60 },
                                             { "property": "saturation", "value": 70 },
                                             { "property": "power", "value": true }
                                 ]
                              }
                           ]
                        }
                     ]
                  }
               ]
            }
         ]
      },
      {
         "uName": "bedroom:master",
         "displayName": "Master Bedroom",
         "buildingName": "building:dumgoyne",
         "users": [
            { "uName": "user:richard"},
            { "uName": "user:natalie"}
         ],
         "readingInBedTimeout": 900,
         "awakeInBedTimeout": 3600,
         "events": [
            { "name": "pre-wake-up-event", "rules": [ "30 5 * * 1-5", "30 7 * * 0,6" ]},
            { "name": "wake-up-event", "rules": [ "00 6 * * 1-5", "00 8 * * 0,6" ]}
         ],
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "local": true,
               "sources": [
                  {
                     "property": "movement-door"
                  },
                  {
                     "property": "movement-main"
                  }
               ]
            },
            {
               "name": "movement-door",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 22, 
               "triggerLow": true,
               "local": true
            },
            {
               "name": "movement-main",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 24, 
               "triggerLow": true,
               "local": true
            },
            {  
               "name": "low-light",
               "initialValue": false,
               "writable": false,
               "source": {
                  "uName": "building:dumgoyne",
                  "property": "low-light"
               }
            } 
         ],
         "things": [
            {
               "uName": "hklightaccessory:master-bedroom-lights",
               "displayName": "Bedroom Lights",
               "manufacturer": "Hue Philips Ltd",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "brightnessSupported": true,
               "hueSupported": true,
               "saturationSupported": true,
               "propogateToParent": true,
               "props": [
                  {  
                     "name": "alarm-state",
                     "type": "stateproperty",
                     "states": [
                        {  
                           "name": "fire-alarm",
                           "actions": [
                              { "property": "brightness", "ramp": { "loop": true,
                                                                    "ramps": [{ "startValue": 2, "endValue": 100, "step": 20, "duration": 2 }, 
                                                                              { "startValue": 100, "endValue": 99, "step": -1, "duration": 4 },
                                                                              { "startValue": 100, "endValue": 2, "step": -20, "duration": 2 }]}},
                              { "property": "hue", "value": 0 },
                              { "property": "saturation", "ramp": { "loop": true,
                                                                    "ramps": [{ "startValue": 98, "endValue": 100, "step": 1, "duration": 2 }, 
                                                                              { "startValue": 100, "endValue": 0, "step": -20, "duration": 2 },
                                                                              { "startValue": 0, "endValue": 100, "step": 20, "duration": 2 },
                                                                              { "startValue": 100, "endValue": 98, "step": -1, "duration": 2 }]}},
                              { "property": "power", "value": true }
                           ]
                        }
                     ]
                  },
                  {
                     "name": "any-light-powered",
                     "type": "orproperty",
                     "initialValue": false,
                     "sources": [{ "uName": "huelight:natalie-bedroom-lamp", "property": "power" },
                                 { "uName": "huelight:richard-bedroom-lamp", "property": "power" },
                                 { "uName": "huelightgroup:master-bedroom-downlighters", "property": "power" }]
                  }
               ],
               "things": [
                  {
                     "uName": "huelight:natalie-bedroom-lamp",
                     "displayName": "Natalie Bedroom Lamp",
                     "deviceId": 3,
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "natalie-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "not-present",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 60 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 15 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "power", "value": false }
                                 ]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "ramp": { "startValue": 2, "endValue": 100, "step": 2, "duration": 1800 }},
                                    { "property": "hue", "ramp": { "startValue": 0, "endValue": 60, "step": 1, "duration": 1800 }},
                                    { "property": "saturation", "ramp": { "startValue": 100, "endValue": 70, "step": -1, "duration": 1800}},
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 100 },
                                    { "property": "hue", "value": 60 },
                                    { "property": "saturation", "value": 70 },
                                    { "property": "power", "value": true }
                                 ]
                              }
                           ]
                        }
                     ]
                  },
                  {
                     "uName": "huelight:richard-bedroom-lamp",
                     "displayName": "Richard Bedroom Lamp",
                     "deviceId": 4,
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "richard-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "not-present",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "initial-reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 60 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 40 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "reading-in-bed-others-asleep",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 15 },
                                    { "property": "hue", "value": 44 },
                                    { "property": "saturation", "value": 69 },
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "asleep-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "power", "value": false }
                                 ]
                              },
                              {
                                 "name": "waking-up-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "ramp": { "startValue": 2, "endValue": 100, "step": 2, "duration": 1800 }},
                                    { "property": "hue", "ramp": { "startValue": 0, "endValue": 60, "step": 1, "duration": 1800 }},
                                    { "property": "saturation", "ramp": { "startValue": 100, "endValue": 70, "step": -1, "duration": 1800}},
                                    { "property": "power", "value": true }
                                 ]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 4,
                                 "actions": [
                                    { "property": "brightness", "value": 100 },
                                    { "property": "hue", "value": 60 },
                                    { "property": "saturation", "value": 70 },
                                    { "property": "power", "value": true }
                                 ]
                              }
                           ]
                        }
                     ]
                  },
                  {
                     "uName": "huelightgroup:master-bedroom-downlighters",
                     "displayName": "Master Bedroom - Downlighters",
                     "lightGroupId": 8,
                     "propogateToParent": false,
                     "props": [
                        {
                           "name": "richard-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 4,
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 0,
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "priority": 0,
                                 "actions": [{ "property": "power", "value": false }]
                              }
                           ]
                        },
                        {
                           "name": "natalie-user-state",
                           "type": "stateproperty",
                           "initialValue": "not-present",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "priority": 4,
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "awake-in-bed",
                                 "priority": 0,
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "not-present",
                                 "priority": 0,
                                 "actions": [{ "property": "power", "value": false }]
                              }
                           ]
                        },
                        {
                           "name": "room-state",
                           "type": "stateproperty",
                           "initialValue": "no-users-present-day",
                           "states": [
                              {
                                 "name": "DEFAULT",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "users-present-evening",
                                 "priority": 2,
                                 "actions": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              },
                              {
                                 "name": "users-present-dull-day",
                                 "priority": 2,
                                 "actions": [{ "property": "brightness", "value": 20 }, { "property": "power", "value": true }]
                              }
                           ]
                        },
                        {
                           "name": "user-override-state",
                           "type": "stateproperty",
                           "initialValue": "not-active",
                           "states": [
                              {
                                 "name": "not-active",
                                 "actions": [{ "property": "power", "value": false }]
                              },
                              {
                                 "name": "active",
                                 "priority": 3,
                                 "actions": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                              }
                           ]
                        }
                     ]
                  }
               ]
            },
            {
               "uName": "touchswitch:natalie-bedroom-switch",
               "displayName": "Natalie Bedroom Touch Switch",
               "propogateToChild": false,
               "propogateToParent": false,
               "invokeManualMode": false,
               "gpioTouchPin": 6,
               "stateless": true,
               "eventName": "natalie-switch-event",
               "triggerLow": true,
               "local": true
            },
            {
               "uName": "touchswitch:richard-bedroom-switch",
               "displayName": "Richard Bedroom Touch Switch",
               "propogateToChild": false,
               "propogateToParent": false,
               "invokeManualMode": false,
               "gpioTouchPin": 5,
               "stateless": true,
               "eventName": "richard-switch-event",
               "triggerLow": true,
               "local": true
            },
            {
               "uName": "touchswitch:main-bedroom-switch",
               "displayName": "Main Bedroom Touch Switch",
               "propogateToChild": false,
               "propogateToParent": false,
               "invokeManualMode": false,
               "gpioTouchPin": 13,
               "stateless": true,
               "eventName": "room-switch-event",
               "triggerLow": true,
               "local": true
            },
            {
               "uName": "hkswitchaccessory:natalie-bedroom-switch",
               "displayName": "Natalie Bedroom Switch",
               "manufacturer": "Casa Home Automation",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "eventName": "natalie-switch-event",
               "propogateToParent": false,
               "invokeManualMode": false,
               "props": [
                  {
                     "name": "ACTIVE",
                     "initialValue": false,
                     "source": {
                        "uName": "huelight:natalie-bedroom-lamp",
                        "property": "power"
                     }
                  }
               ]
            },
            {
               "uName": "hkswitchaccessory:richard-bedroom-switch",
               "displayName": "Richard Bedroom Switch",
               "manufacturer": "Casa Home Automation",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "eventName": "richard-switch-event",
               "propogateToParent": false,
               "invokeManualMode": false,
               "props": [
                  {
                     "name": "ACTIVE",
                     "initialValue": false,
                     "source": {
                        "uName": "huelight:richard-bedroom-lamp",
                        "property": "power"
                     }
                  }
               ]
            }
         ]
      },
      {
         "uName": "room:master-ensuite",
         "displayName": "Master Bedroom Ensuite",
         "buildingName": "building:dumgoyne",
         "movementTimeout": 900,
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "type": "gpioproperty",
               "gpioPin": 27,
               "triggerLow": true
            },
            {
               "name": "low-light",
               "initialValue": false,
               "writable": false,
               "source": {
                  "uName": "building:dumgoyne",
                  "property": "low-light"
               }
            },
            {
               "name": "night-time",
               "initialValue": false,
               "writable": false,
               "source": {
                  "uName": "building:dumgoyne",
                  "property": "night-time"
               }
            }
         ],
         "things": [
            {
               "uName": "huelightgroup:master-ensuite-downlighters",
               "displayName": "Master Bedroom Ensuite - Downlighters",
               "lightGroupId": 9,
               "propogateToParent": false,
               "props": [
                  {
                     "name": "room-state",
                     "type": "stateproperty",
                     "initialValue": "no-users-present-day",
                     "states": [
                        {
                           "name": "DEFAULT",
                           "actions": [{ "property": "power", "value": false }]
                        },
                        {
                           "name": "users-present-evening",
                           "priority": 2,
                           "actions": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                        },
                        {
                           "name": "users-present-dull-day",
                           "priority": 2,
                           "actions": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                        }
                     ]
                  },
                  {
                     "name": "user-override-state",
                     "type": "stateproperty",
                     "initialValue": "not-active",
                     "states": [
                        {
                           "name": "not-active",
                           "actions": [{ "property": "power", "value": false }]
                        },
                        {
                           "name": "active",
                           "priority": 3,
                           "actions": [{ "property": "brightness", "value": 100 }, { "property": "power", "value": true }]
                        }
                     ]
                  }
               ]
            },
            {  
               "uName": "huelight:master-ensuite-extractor-fan",
               "displayName": "Master Bedroom Ensuite - Extractor Fan",
               "deviceId": 29,
               "propogateToParent": false,
               "props": [
                  {
                     "name": "shower-possible",
                     "initialValue": true,
                     "writable": false,
                     "type": "scheduleproperty",
                     "events": [
                        {
                           "rule": "0 11 * * *",
                           "value": false
                        },
                        {
                           "rule": "0 17 * * *",
                           "value": true
                        }
                     ]
                  },
                  {  
                     "name": "room-state",
                     "type": "stateproperty",
                     "initialValue": "no-users-present-day",
                     "states": [
                        {  
                           "name": "DEFAULT",
                           "actions": [{ "property": "power", "value": false }]
                        }, 
                        {  
                           "name": "users-present-evening",
                           "priority": 2,
                           "actions": [{ "guard": { "active": true, "property": "shower-possible" }, "property": "power", "value": true }]
                        }, 
                        {  
                           "name": "users-present-day",
                           "priority": 2,
                           "actions": [{ "guard": { "active": true, "property": "shower-possible" }, "property": "power", "value": true }]
                        },
                        {  
                           "name": "users-present-dull-day",
                           "priority": 2,
                           "actions": [{ "guard": { "active": true, "property": "shower-possible" }, "property": "power", "value": true }]
                        }
                     ]
                  },
                  {
                     "name": "user-override-state",
                     "type": "stateproperty",
                     "initialValue": "not-active",
                     "states": [
                        {
                           "name": "not-active",
                           "actions": [{ "property": "power", "value": false }]
                        },
                        {
                           "name": "active",
                           "priority": 3,
                           "actions": [{ "property": "power", "value": true }]
                        }
                     ]
                  }
               ]
            },
            {
               "uName": "hkswitchaccessory:ensuite-main-switch",
               "displayName": "Ensuite Main Switch",
               "manufacturer": "Casa Home Automation",
               "model": "V0.1",
               "serialNumber": "1234567890",
               "stateless": true,
               "eventName": "room-switch-event",
               "invokeManualMode": false,
               "props": [
                  {
                     "name": "user-override-state",
                     "initialValue": "not-active"
                  },
                  {
                     "name": "ACTIVE",
                     "initialValue": false,
                     "source": {
                        "uName": "hkswitchaccessory:ensuite-main-switch",
                        "property": "user-override-state",
                        "transform": "$value == \"active\""
                     }
                  }
               ]
            }
         ]
      },
      {
         "uName": "thing:pushover-messenger",
         "displayName": "Pushover Messenger",
         "props": [
            {
               "name": "urgent-message",
               "type": "pushoverproperty",
               "initialValue": false,
               "writable": false,
               "priority": 1,
               "userGroup": "usergroup:admins",
               "sources": [
                  {
                     "uName": "casa:env",
                     "property": "ACTIVE",
                     "transformMap": {
                        "true": "Casa 'env' is active",
                        "false": "Casa 'env' has gone down!"
                     }
                  }
               ]
            }
         ]
      }
   ]
}
