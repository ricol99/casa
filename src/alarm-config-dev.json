{
   "name": "casa:alarm",
   "displayName": "Casa Collin Texecom Alarm",
   "gang": "casa-collin",
   "parentCasa": {
      "name": "casa:internet",
      "address": {
         "hostname": "casa-dev.elasticbeanstalk.com",
         "port": 80
      }
   },
   "area": {
      "name": "casaarea:home",
      "displayName": "Casa Collin Home"
   },
   "listeningPort": 8081,
   "props": {},
   "things": [
      {
         "name": "lightwaverflink:home",
         "displayName": "LightwaveRF Wifi Link",
         "props": {
            "ipAddress": "192.168.1.236"
         }
      },
      {
         "name": "alarm:home",
         "displayName": "House Alarm",
         "props": {
            "ipAddress": "192.168.1.90"
         }
      }
   ],
   "states": [
      {
         "name": "gpiostate:alarm-tamper-alarm",
         "thing": "alarm:home",
         "gpioPin": 4,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-mains-failure",
         "thing": "alarm:home",
         "gpioPin": 17,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-fire-alarm",
         "thing": "alarm:home",
         "gpioPin": 18,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-fully-armed",
         "thing": "alarm:home",
         "gpioPin": 22,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-part-armed",
         "thing": "alarm:home",
         "gpioPin": 23,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-in-alarm",
         "thing": "alarm:home",
         "gpioPin": 24,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-confirmed-alarm",
         "thing": "alarm:home",
         "gpioPin": 25,
         "triggerLow": true
      },
      {
         "name": "gpiostate:alarm-lounge-pir",
         "thing": "alarm:home",
         "gpioPin": 27,
         "triggerLow": true
      },
      {
         "name": "schedulestate:master-bedroom-lights",
         "startRule": "20 22 * * *",
         "endRule": "15 23 * * *"
      },
      {
         "name": "schedulestate:sunset-for-four-hours",
         "startRule": "sunset",
         "activeFor": 14400
      },
      { 
         "name": "schedulestate:lengthened-daylight",
         "startRule": "sunrise:-900",
         "endRule": "sunset:-900"
      },
      { 
         "name": "schedulestate:main-lights-evening",
         "startRule": "sunset:-2700",
         "endRule": "30 22 * * *",
         "applyProps": {
            "active" : {
               "dimLevel": 65 
            },
            "inactive" : {
               "dimLevel": 0
            }
         }
      },
      { 
         "name": "schedulestate:main-lights-evening-early",
         "startRule": "sunset:-4500",
         "endRule": "sunset:-2600"
      },
      { 
         "name": "schedulestate:main-lights-evening-late",
         "startRule": "29 22 * * *",
         "endRule": "59 23 * * *"
      }
   ],
   "activators": [
      {
         "name": "latchingactivator:alarm-lounge-pir",
         "source": "gpiostate:alarm-lounge-pir",
         "minOutputTime": 180
      },
      {
         "name": "andactivator:lounge-activity-armed",
         "sources": [
            "latchingactivator:alarm-lounge-pir",
            "gpiostate:alarm-fully-armed"
         ]
      },
      {
         "name": "oractivator:lounge-lights-movement-slots",
         "sources": [
            "schedulestate:main-lights-evening-early",
            "schedulestate:main-lights-evening-late"
         ]
      },
      {
         "name": "andactivator:lounge-activity-lights",
         "sources": [
            "latchingactivator:alarm-lounge-pir",
            "oractivator:lounge-lights-movement-slots"
         ],
         "applyProps": {
            "active" : {
               "dimLevel": 40 
            },
            "inactive" : {
               "dimLevel": 0
            }
         }
      },
      {
         "name": "oractivator:lounge-lights-evening",
         "sources": [
            "schedulestate:main-lights-evening",
            "andactivator:lounge-activity-lights",
         ]
      }
   ],
   "actions": [
      {
         "name": "spycameraaction:lounge",
         "cctvHostname": "192.168.1.245",
         "cctvPort": 8000,
         "userId": "ricol99",
         "password": "carrot99",
         "cameraId": 1,
         "source": "andactivator:lounge-activity"
      },
      {
         "name": "lightwaverfaction:lounge-alcoves-50",
         "roomId": 1,
         "deviceId": 2,
         "dimLevel": 50,
         "source": "oractivator:lounge-lights-evening",
         "target": "lightwaverflink:home"
      },
      {
         "name": "lightwaverfaction:lounge-fire-50",
         "roomId": 1,
         "deviceId": 3,
         "dimLevel": 50,
         "source": "oractivator:lounge-lights-evening",
         "target": "lightwaverflink:home"
      },
      {
         "name": "lightwaverfaction:lounge-table-lamp",
         "roomId": 1,
         "deviceId": 1,
         "source": "oractivator:lounge-lights-evening",
         "target": "lightwaverflink:home"
      },
      {
         "name": "lightwaverfaction:natalie-bedroom-table-lamp",
         "roomId": 3,
         "deviceId": 1,
         "source": "schedulestate:master-bedroom-lights",
         "target": "lightwaverflink:home"
      },
      {
         "name": "lightwaverfaction:hall-table-lamp",
         "roomId": 2,
         "deviceId": 1,
         "source": "oractivator:lounge-lights-evening",
         "target": "lightwaverflink:home"
      }
   ]
}
