{
   "name": "casa:alarm",
   "displayName": "Casa Collin Texecom Alarm",
   "gang": "casa-collin",
   "parentCasa": {
      "name": "casa:internet",
      "address": {
         "hostname": "casa-dev.elasticbeanstalk.com",
         "port": 80
      }
   },
   "listeningPort": 8081,
   "users": [],
   "props": [],
   "things": [
      {
         "name": "lightwaverflink:home",
         "displayName": "LightwaveRF Wifi Link",
         "props": [
            {
               "name": "ipAddress",
               "initialValue": "192.168.1.236",
               "writable": false
            }
         ]
      },
      {
         "name": "alarm:home",
         "displayName": "House Alarm",
         "props": [
            {
               "name": "ipAddress",
               "initialValue": "192.168.1.90",
               "writable": false
            },
            {
               "name": "tamper-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:alarm-tamper",
                  "gpioPin": 4,
                  "triggerLow": true
               }
            },
            {
               "name": "kitchen-pir",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:kitchen-pir",
                  "gpioPin": 17,
                  "triggerLow": true
               }
            },
            {
               "name": "fire-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:fire-alarm",
                  "gpioPin": 18,
                  "triggerLow": true
               }
            },
            {
               "name": "fully-armed",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:fully-armed",
                  "gpioPin": 22,
                  "triggerLow": true
               }
            },
            {
               "name": "part-armed",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:part-armed",
                  "gpioPin": 23,
                  "triggerLow": true
               }
            },
            {
               "name": "alarm-triggered",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:alarm-triggered",
                  "gpioPin": 24,
                  "triggerLow": true
               }
            },
            {
               "name": "confirmed-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:confirmed-alarm",
                  "gpioPin": 25,
                  "triggerLow": true
               }
            },
            {
               "name": "lounge-pir",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:lounge-pir",
                  "gpioPin": 27,
                  "triggerLow": true
               }
            }
         ]
      },
      {
         "name": "room:kitchen",
         "displayName": "Kitchen / Diner Room",
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:kitchen-movement",
                  "source": "alarm:home",
                  "sourceProperty": "kitchen-pir",
                  "minOutputTime": 600
               }
            },
            {
               "name": "movement-in-dark",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "andpropertybinder:kitchen-movement-in-dark",
                  "sources": [
                     {
                        "source": "thing:environment",
                        "sourceProperty": "dark"
                     },
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement"
                     }
                  ]
               }
            },
            {
               "name": "movement-in-low-light",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:latched-low-light-movement",
                  "source": "room:kitchen",
                  "sourceProperty": "movement",
                  "controller" : {
                     "source": "thing:environment",
                     "sourceProperty": "low-light"
                  }
               }
            },
            {
               "name": "room-light-level",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "orpropertybinder:room-light-level",
                  "sources": [
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement-in-dark",
                        "outputActiveValue": "medium",
                        "outputInactiveValue": "off"
                     },
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement-in-low-light",
                        "outputActiveValue": "low",
                        "outputInactiveValue": "off"
                     },
                     {
                        "source": "thing:environment",
                        "sourceProperty": "holiday-lights",
                        "outputActiveValue": "low",
                        "outputInactiveValue": "off"
                     }
                  ]
               }
            },
            {
               "name": "kitchen-downlights-main-1",
               "initialValue": 0,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:kitchen-downlights-main-1",
                  "source": "lightwaverflink:home",
                  "roomID": 6,
                  "deviceID": 1
               }
            },
            {
               "name": "kitchen-downlights-main-2",
               "initialValue": 0,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:kitchen-downlights-main-2",
                  "source": "lightwaverflink:home",
                  "roomID": 6,
                  "deviceID": 2
               }
            },
            {
               "name": "kitchen-downlights-wolf",
               "initialValue": 0,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:kitchen-downlights-wolf",
                  "source": "lightwaverflink:home",
                  "roomID": 6,
                  "deviceID": 3
               }
            },
            {
               "name": "kitchen-dresser-lights",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:kitchen-dresser-lights",
                  "source": "lightwaverflink:home",
                  "roomID": 6,
                  "deviceID": 4
               }
            },
            {
               "name": "kitchen-lights-off",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:kitchen-lights-off",
                  "source": "room:kitchen",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "off",
                  "target": "room:kitchen",
                  "targetProperties": [
                     {
                        "name": "kitchen-downlights-main-1",
                        "activeValue": 0
                     },
                     {
                        "name": "kitchen-downlights-main-2",
                        "activeValue": 0
                     },
                     {
                        "name": "kitchen-downlights-wolf",
                        "activeValue": 0
                     },
                     {
                        "name": "kitchen-dresser-lights",
                        "activeValue": false
                     }
                  ]
               }
            },
            {
               "name": "kitchen-lights-low",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:kitchen-lights-low",
                  "source": "room:kitchen",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "low",
                  "target": "room:kitchen",
                  "targetProperties": [
                     {
                        "name": "kitchen-downlights-main-1",
                        "activeValue": 4
                     },
                     {
                        "name": "kitchen-downlights-main-2",
                        "activeValue": 4
                     },
                     {
                        "name": "kitchen-downlights-wolf",
                        "activeValue": 4
                     },
                     {
                        "name": "kitchen-dresser-lights",
                        "activeValue": true
                     }
                  ]
               }
            },
            {
               "name": "kitchen-lights-medium",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:kitchen-lights-medium",
                  "source": "room:kitchen",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "medium",
                  "target": "room:kitchen",
                  "targetProperties": [
                     {
                        "name": "kitchen-downlights-main-1",
                        "activeValue": 50
                     },
                     {
                        "name": "kitchen-downlights-main-2",
                        "activeValue": 50
                     },
                     {
                        "name": "kitchen-downlights-wolf",
                        "activeValue": 50
                     },
                     {
                        "name": "kitchen-dresser-lights",
                        "activeValue": true
                     }
                  ]
               }
            }
         ]
      },
      {
         "name": "room:lounge",
         "displayName": "Lounge Room",
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:lounge-movement",
                  "source": "alarm:home",
                  "sourceProperty": "lounge-pir",
                  "triggerCondition": "==",
                  "triggerValue": true,
                  "minOutputTime": 600
               }
            },
            {
               "name": "movement-in-dark",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "andpropertybinder:lounge-movement-in-dark",
                  "sources": [
                     {
                        "source": "thing:environment",
                        "sourceProperty": "dark"
                     },
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement"
                     }
                  ]
               }
            },
            {
               "name": "movement-in-low-light",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "andpropertybinder:lounge-movement-in-low-light",
                  "sources": [
                     {
                        "source": "thing:environment",
                        "sourceProperty": "low-light"
                     },
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement"
                     }
                  ]
               }
            },
            {
               "name": "latched-movement-in-low-light",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:latched-lounge-low-light-movement",
                  "source": "room:lounge",
                  "sourceProperty": "movement-in-low-light",
                  "minOutputTime": 600
               }
            },
            {
               "name": "room-light-level",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "orpropertybinder:lounge-room-light-level",
                  "sources": [
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement-in-dark",
                        "outputActiveValue": "medium",
                        "outputInactiveValue": "off"
                     },
                     {
                        "source": "room:lounge",
                        "sourceProperty": "latched-movement-in-low-light",
                        "outputActiveValue": "low",
                        "outputInactiveValue": "off"
                     },
                     {
                        "source": "thing:environment",
                        "sourceProperty": "holiday-lights",
                        "outputActiveValue": "low",
                        "outputInactiveValue": "off"
                     }
                  ]
               }
            },
            {
               "name": "lounge-fire-light-level",
               "initialValue": 0,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-fire-light",
                  "source": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 3
               }
            },
            {
               "name": "lounge-alcoves-light-level",
               "initialValue": 0,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-alcoves-light",
                  "source": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 2
               }
            },
            {
               "name": "lounge-table-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-table-light",
                  "source": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 1
               }
            },
            {
               "name": "lounge-centre-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-centre-light",
                  "source": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 4
               }
            },
            {
               "name": "lounge-tree-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-tree-light",
                  "source": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 5
               }
            },
            {
               "name": "lounge-lights-off",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:lounge-lights-off",
                  "source": "room:lounge",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "off",
                  "target": "room:lounge",
                  "targetProperties": [
                     {
                        "name": "lounge-fire-light-level",
                        "activeValue": 0
                     },
                     {
                        "name": "lounge-alcoves-light-level",
                        "activeValue": 0
                     },
                     {
                        "name": "lounge-table-light",
                        "activeValue": false
                     },
                     {
                        "name": "lounge-centre-light",
                        "activeValue": false
                     },
                     {
                        "name": "lounge-tree-light",
                        "activeValue": false
                     }
                  ]
               }
            },
            {
               "name": "lounge-lights-low",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:lounge-lights-low",
                  "source": "room:lounge",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "low",
                  "target": "room:lounge",
                  "targetProperties": [
                     {
                        "name": "lounge-fire-light-level",
                        "activeValue": 20
                     },
                     {
                        "name": "lounge-alcoves-light-level",
                        "activeValue": 20
                     },
                     {
                        "name": "lounge-table-light",
                        "activeValue": true
                     },
                     {
                        "name": "lounge-centre-light",
                        "activeValue": true
                     },
                     {
                        "name": "lounge-tree-light",
                        "activeValue": true
                     }
                  ]
               }
            },
            {
               "name": "lounge-lights-medium",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "settingpropertybinder:lounge-lights-medium",
                  "source": "room:lounge",
                  "sourceProperty": "room-light-level",
                  "triggerCondition": "==",
                  "triggerValue": "medium",
                  "target": "room:lounge",
                  "targetProperties": [
                     {
                        "name": "lounge-fire-light-level",
                        "activeValue": 50
                     },
                     {
                        "name": "lounge-alcoves-light-level",
                        "activeValue": 50
                     },
                     {
                        "name": "lounge-table-light",
                        "activeValue": true
                     },
                     {
                        "name": "lounge-centre-light",
                        "activeValue": true
                     },
                     {
                        "name": "lounge-tree-light",
                        "activeValue": true
                     }
                  ]
               }
            }
         ]
      },
      {
         "name": "room:master-bedroom",
         "displayName": "Master Bedroom",
         "props": [
            {
               "name": "natalie-bed-lamp",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "lightwaverfpropertybinder:master-bedroom-natalie-bed-lamp",
                  "target": "lightwaverflink:home",
                  "roomID": 3,
                  "deviceID": 1
               }
            }
         ]
      },
      {
         "name": "thing:environment",
         "displayName": "Environment",
         "props": [
            {
               "name": "sunset-for-four-hours",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-sunset-for-four-hours",
                  "events": [
                     {
                        "rule": "sunset",
                        "propertyValue": true
                     },
                     {
                        "rule": "sunset:14400",
                        "propertyValue": false
                     }
                  ]
               }
            },
            {
               "name": "lengthened-daylight",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-lengthened-daylight",
                  "events": [
                     {
                        "rule": "sunrise:-900",
                        "propertyValue": true
                     },
                     {
                        "rule": "sunset:900",
                        "propertyValue": false
                     }
                  ]
               }
            },
            {
               "name": "daylight",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-daylight",
                  "events": [
                     {
                        "rule": "sunrise",
                        "propertyValue": true
                     },
                     {
                        "rule": "sunset:-1800",
                        "propertyValue": false
                     }
                  ]
               }
            },
            {
               "name": "holiday-lights",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-daylight",
                  "events": [
                     {
                        "rule": "sunset:900",
                        "propertyValue": true
                     },
                     {
                        "rule": "30 22 * * *",
                        "propertyValue": false
                     }
                  ]
               }
            },
            {
               "name": "dark",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "invertingpropertybinder:env-dark",
                  "source": "thing:environment",
                  "sourceProperty": "daylight"
               }
            },
            {
               "name": "low-light",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-low-light",
                  "events": [
                     {
                        "rule": "sunrise:-1800",
                        "propertyValue": true
                     },
                     {
                        "rule": "sunrise:930",
                        "propertyValue": false
                     },
                     {
                        "rule": "sunset:-1800",
                        "propertyValue": true
                     },
                     {
                        "rule": "sunset:930",
                        "propertyValue": false
                     }
                  ]
               }
            },
            {
               "name": "bedtime",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "schedulepropertybinder:env-bedtime",
                  "events": [
                     {
                        "rule": "30 22 * * *",
                        "propertyValue": true
                     },
                     {
                        "rule": "15 23 * * *",
                        "propertyValue": false
                     }
                  ]
               }
            }
         ]
      }
   ],
   "transforms" : [],
   "activators": [],
   "actions": [
      {
         "name": "spycameraaction:lounge",
         "cctvHostname": "192.168.1.245",
         "cctvPort": 8000,
         "userId": "ricol99",
         "password": "carrot99",
         "cameraId": 1,
         "source": "andactivator:lounge-activity"
      },
      {
         "name": "lightwaverfaction:natalie-bedroom-table-lamp",
         "roomId": 3,
         "deviceId": 1,
         "source": "room:master-bedroom",
         "sourceProperty": "lights",
         "target": "lightwaverflink:home"
      }
   ]
}
