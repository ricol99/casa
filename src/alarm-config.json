{
   "name": "casa:alarm",
   "displayName": "Casa Collin Texecom Alarm",
   "gang": "casa-collin-v2",
   "parentCasa": {
      "name": "casa:internet",
      "address": {
         "hostname": "199.245.56.152",
         "port": 80
      }
   },
   "listeningPort": 8098,
   "props": [],
   "things": [
      {
         "name": "lightwaverflink:home",
         "displayName": "LightwaveRF Wifi Link",
         "props": [
            {
               "name": "ipAddress",
               "initialValue": "192.168.1.236",
               "writable": false
            }
         ]
      },
      {
         "name": "alarm:home",
         "displayName": "House Alarm",
         "props": [
            {
               "name": "ipAddress",
               "initialValue": "192.168.1.90",
               "writable": false
            },
            {
               "name": "tamper-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:alarm-tamper",
                  "gpioPin": 4,
                  "triggerLow": true
               }
            },
            {
               "name": "kitchen-pir",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:kitchen-pir",
                  "gpioPin": 17,
                  "triggerLow": true
               }
            },
            {
               "name": "fire-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:fire-alarm",
                  "gpioPin": 18,
                  "triggerLow": true
               }
            },
            {
               "name": "fully-armed",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:fully-armed",
                  "gpioPin": 22,
                  "triggerLow": true
               }
            },
            {
               "name": "part-armed",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:part-armed",
                  "gpioPin": 23,
                  "triggerLow": true
               }
            },
            {
               "name": "alarm-triggered",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:alarm-triggered",
                  "gpioPin": 24,
                  "triggerLow": true
               }
            },
            {
               "name": "confirmed-alarm",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:confirmed-alarm",
                  "gpioPin": 25,
                  "triggerLow": true
               }
            },
            {
               "name": "lounge-pir",
               "initialValue": false,
               "writable": false,
               "binder": {
                  "name": "gpiopropertybinder:lounge-pir",
                  "gpioPin": 27,
                  "triggerLow": true
               }
            }
         ]
      },
      {
         "name": "room:kitchen",
         "displayName": "Kitchen / Diner Room",
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:kitchen-movement",
                  "source": "alarm:home",
                  "sourceProperty": "kitchen-pir",
                  "minOutputTime": 600
               }
            },
            {
               "name": "movement-in-dark",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "andpropertybinder:kitchen-movement-in-dark",
                  "sources": [
                     {
                        "source": "thing:environment",
                        "sourceProperty": "dark"
                     },
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement"
                     }
                  ]
               }
            },
            {
               "name": "movement-in-low-light",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:latched-low-light-movement",
                  "source": "room:kitchen",
                  "sourceProperty": "movement",
                  "controller" : {
                     "source": "thing:environment",
                     "sourceProperty": "low-light"
                  }
               }
            },
            {
               "name": "lighting-mood",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "orpropertybinder:lighting-mood",
                  "prioritiseSources": true,
                  "sources": [
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement-in-dark",
                        "outputValues": {
                           "true": "medium",
                           "false": "off"
                        }
                     },
                     {
                        "source": "room:kitchen",
                        "sourceProperty": "movement-in-low-light",
                        "outputValues": {
                           "true": "low",
                           "false": "off"
                        }
                     },
                     {
                        "source": "thing:environment",
                        "sourceProperty": "holiday-lights",
                        "outputValues": {
                           "true": "low",
                           "false": "off"
                        }
                     }
                  ]
               }
            },
            {
               "name": "lights",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "lightwaverfpropertybinder:kitchen-lights",
                  "source": "room:kitchen",
                  "sourceProperty": "lighting-mood",
                  "target": "lightwaverflink:home",
                  "roomID": 6,
                  "moods": [
                     {
                        "name": "low",
                        "moodID": 1
                     },
                     {
                        "name": "medium",
                        "moodID": 2
                     },
                     {
                        "name": "full",
                        "moodID": 3
                     }
                  ]
               }
            }
         ]
      },
      {
         "name": "room:lounge",
         "displayName": "Lounge Room",
         "props": [
            {
               "name": "movement",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:lounge-movement",
                  "source": "alarm:home",
                  "sourceProperty": "lounge-pir",
                  "minOutputTime": 600
               }
            },
            {
               "name": "movement-in-dark",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "andpropertybinder:lounge-movement-in-dark",
                  "sources": [
                     {
                        "source": "thing:environment",
                        "sourceProperty": "dark"
                     },
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement"
                     }
                  ]
               }
            },
            {
               "name": "movement-in-low-light",
               "initialValue": false,
               "writable": false,
               "binder" : {
                  "name": "latchingpropertybinder:lounge-latched-low-light-movement",
                  "source": "room:lounge",
                  "sourceProperty": "movement",
                  "controller" : {
                     "source": "thing:environment",
                     "sourceProperty": "low-light"
                  }
               }
            },
            {
               "name": "lighting-mood",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "orpropertybinder:lounge-lighting-mood",
                  "prioritiseSources": true,
                  "sources": [
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement-in-dark",
                        "outputValues": {
                           "true": "medium",
                           "false": "off"
                        }
                     },
                     {
                        "source": "room:lounge",
                        "sourceProperty": "movement-in-low-light",
                        "outputValues": {
                           "true": "low",
                           "false": "off"
                        }
                     },
                     {
                        "source": "thing:environment",
                        "sourceProperty": "holiday-lights",
                        "outputValues": {
                           "true": "low",
                           "false": "off"
                        }
                     }
                  ]
               }
            },
            {
               "name": "wall-lights",
               "initialValue": "off",
               "writable": false,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-wall-lights",
                  "source": "room:lounge",
                  "sourceProperty": "lighting-mood",
                  "target": "lightwaverflink:home",
                  "roomID": 1,
                  "moods": [
                     {
                        "name": "low",
                        "moodID": 1
                     },
                     {
                        "name": "medium",
                        "moodID": 2
                     },
                     {
                        "name": "full",
                        "moodID": 3
                     }
                  ]
               }
            },
            {
               "name": "lounge-table-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-table-light",
                  "source": "room:lounge",
                  "sourceProperty": "lighting-mood",
                  "inputTransform": "$value!=\"off\"",
                  "target": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 1
               }
            },
            {
               "name": "lounge-centre-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-centre-light",
                  "source": "room:lounge",
                  "sourceProperty": "lighting-mood",
                  "inputTransform": "$value!=\"off\"",
                  "target": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 4
               }
            },
            {
               "name": "lounge-tree-light",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:lounge-tree-light",
                  "source": "room:lounge",
                  "sourceProperty": "lighting-mood",
                  "inputTransform": "$value!=\"off\"",
                  "target": "lightwaverflink:home",
                  "roomID": 1,
                  "deviceID": 5
               }
            }
         ]
      },
      {
         "name": "room:master-bedroom",
         "displayName": "Master Bedroom",
         "props": [
            {
               "name": "natalie-bed-lamp",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:master-bedroom-natalie-bed-lamp",
                  "source": "thing:environment",
                  "sourceProperty": "bedtime",
                  "target": "lightwaverflink:home",
                  "roomID": 3,
                  "deviceID": 1
               }
            }
         ]
      },
      {
         "name": "hklightaccessory:do-not-know-switch",
         "displayName": "Do Not Know Light",
         "pincode": "111-11-111",
         "username": "CC:22:3D:E3:CE:32",
         "manufacturer": "Test Light Ltd",
         "model": "V0.1",
         "serialNumber": "1234567890",
         "brightnessSupported": true,
         "props": [
         ]
      },
      {
         "name": "room:do-not-know",
         "displayName": "Do Not Know Room",
         "props": [
            {
               "name": "lamp",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "lightwaverfpropertybinder:do-not-know-lamp",
                  "source": "hklightaccessory:do-not-know-switch",
                  "sourceProperty": "power",
                  "target": "lightwaverflink:home",
                  "roomID": 4,
                  "deviceID": 1
               }
            }
         ]
      },
      {
         "name": "thing:camera-lounge",
         "displayName": "Camera Lounge",
         "props": [
            {
               "name": "lounge-recording",
               "initialValue": false,
               "writable": true,
               "binder": {
                  "name": "spycamerabinder:camera-lounge",
                  "source": "room:lounge",
                  "sourceProperty": "movement",
                  "cctvHostname": "192.168.1.245",
                  "cctvPort": 8000,
                  "userId": "ricol99",
                  "password": "carrot99",
                  "cameraId": 1
               }
            }
         ]
      }
   ]
}
